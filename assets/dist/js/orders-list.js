(()=>{"use strict";!function(e,t){let o=[],l=null;function n(o,n){e.sendRequest("GET",`/orders/shipping-labels?format=pdf&size=${o}&orders=${n.join(",")}`,(o=>{if(!o.content)return void e.addNotice(t.generic_error_try_again,"error");let l=e.b64ToBlob(o.content,"application/pdf");const n=URL.createObjectURL(l);e.popupWithIframe(n,"OCA Shipping Labels")}),{loadingNotice:!0,button:me("#doaction",l)})}function r(o,n,r){e.sendRequest("GET",`/orders/shipping-labels/download?format=${o}&size=${n}&orders=${r.join(",")}`,(o=>{if(!o.url)return void e.addNotice(t.generic_error_try_again,"error");let l=document.createElement("a");l.download=o.url.replace(/^.*[\\\/]/,"").replace(/\?version=.*/,""),l.href=o.url,l.dispatchEvent(new MouseEvent("click"))}),{loadingNotice:!0,button:me("#doaction",l)})}any("#posts-filter, #wc-orders-filter").on("submit",(e=>{l=e.currentTarget;const t=new FormData(l);if(o=t.getAll("post[]"),!o.length&&(o=t.getAll("order[]"),!o.length&&(o=t.getAll("id[]"),!o.length)))return;const a=me("#bulk-action-selector-top",l).value;"wc_oca_view_pdf_labels_A4"===a?(halt(e),n("A4",o)):"wc_oca_view_pdf_labels_10x15"===a?(halt(e),n("10x15",o)):"wc_oca_bulk_pdf_labels_download_A4"===a?(halt(e),r("pdf","A4",o)):"wc_oca_bulk_pdf_labels_download_10x15"===a?(halt(e),r("pdf","10x15",o)):"wc_oca_bulk_zpl_labels_download"===a&&(halt(e),r("zpl","10x15",o))}))}(ocaHelper,wc_oca_translation_texts)})();