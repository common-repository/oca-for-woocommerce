(()=>{"use strict";var e,t={731:()=>{const e=window.React,t=window.wp.plugins,a=window.wc.blocksCheckout,c=window.wc.wcSettings,{extensionCartUpdate:r}=wc.blocksCheckout,o=({cart:t,branches:a,selectedBranch:c,callbacksUri:o})=>{const s=(e=>{const t=e?.shippingRates?.[0]?.shipping_rates;return t&&t.find((e=>e.rate_id.endsWith("branch")&&e.rate_id.startsWith("oca")&&e.selected))})(t);if(!s)return(0,e.createElement)(e.Fragment,null);let n=s.meta_data.find((e=>"shipping_branch"===e.key))?.value;return setTimeout((()=>{const e=document.querySelector("#oca-shipping-branch-selector");e&&e.value===n&&(document.querySelector(".oca-select-office-message-loading").style.display="none",document.querySelector("#oca-shipping-branch-selector").disabled=!1)}),2e3),(0,e.createElement)("div",{id:"oca-branches-selection-wrapper",style:{padding:"20px"}},(0,e.createElement)("p",{className:"oca-select-office-message",style:{marginBottom:"5px"}},"Selecciona una sucursal de OCA para recibir tu orden"," ",(0,e.createElement)("span",{style:{display:"none"},className:"oca-select-office-message-loading"},"(Seleccionando...)")),(0,e.createElement)("select",{id:"oca-shipping-branch-selector",onChange:e=>{const t=e.target.options[e.target.options.selectedIndex];t.value!==n&&(document.querySelector(".oca-select-office-message-loading").style.display="inline-block",document.querySelector("#oca-shipping-branch-selector").disabled=!0),r({namespace:o,data:{action:"update_selected_branch",branch:{id:t.value,name:t.dataset.name,street:t.dataset.street,street_number:t.dataset.streetNumber,floor:t.dataset.floor,apt:t.dataset.apt,city:t.dataset.city,postcode:t.dataset.postcode,phone:t.dataset.phone,hours:t.dataset.hours,type:t.dataset.type}}})}},(0,e.createElement)("option",{disabled:!0},"Seleccionar"),a&&a.map((t=>(0,e.createElement)("option",{key:t.id,value:t.id,"data-name":t.name,"data-street":t.street,"data-street-number":t.street_number,"data-floor":t.floor,"data-apt":t.apt,"data-city":t.city,"data-postcode":t.postcode,"data-phone":t.phone,"data-hours":t.hours,"data-type":t.type,selected:c.id===t.id},t.address)))))},s=(0,c.getSetting)("crplugins-oca-for-woocommerce_data");(0,t.registerPlugin)("crplugins-oca-for-woocommerce",{render:()=>(0,e.createElement)(a.ExperimentalOrderShippingPackages,null,(0,e.createElement)(o,{branches:s.branches,selectedBranch:s.selected_branch,callbacksUri:s.callbacks_uri})),scope:"woocommerce-checkout"})}},a={};function c(e){var r=a[e];if(void 0!==r)return r.exports;var o=a[e]={exports:{}};return t[e](o,o.exports,c),o.exports}c.m=t,e=[],c.O=(t,a,r,o)=>{if(!a){var s=1/0;for(d=0;d<e.length;d++){for(var[a,r,o]=e[d],n=!0,i=0;i<a.length;i++)(!1&o||s>=o)&&Object.keys(c.O).every((e=>c.O[e](a[i])))?a.splice(i--,1):(n=!1,o<s&&(s=o));if(n){e.splice(d--,1);var l=r();void 0!==l&&(t=l)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,r,o]},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};c.O.j=t=>0===e[t];var t=(t,a)=>{var r,o,[s,n,i]=a,l=0;if(s.some((t=>0!==e[t]))){for(r in n)c.o(n,r)&&(c.m[r]=n[r]);if(i)var d=i(c)}for(t&&t(a);l<s.length;l++)o=s[l],c.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return c.O(d)},a=globalThis.webpackChunkcrp_oca_blocks_shipping_method=globalThis.webpackChunkcrp_oca_blocks_shipping_method||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=c.O(void 0,[350],(()=>c(731)));r=c.O(r)})();